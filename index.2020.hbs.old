<!DOCTYPE>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes" />
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
        <title>Store Locator</title>
        <script>
            var W2GI = {
                config: {
                    appkey: '320C479E-6D70-11DE-9D8B-E57E37ABAA09',
                    autoStart: true,
                    locator: {                        
                        theme:null,                        
                        noZoomOnPan: true,
                        locatorlocale: 'en_US',
                        alertError: false,
                        formdata: {
                            geoip: true,
                            dataview: 'store_default',
                            limit: 20,
                            geolocs: {
                                geoloc: [{
                                    addressline:    '',
                                    country:        '',
                                    latitude:       '',
                                    longitude:      ''
                                }]
                            },
                            searchradius: '50|100|150|300|500|750|1000',
                            nobf: 1,
                            stateonly: 1,
                            where: {
                              or: {
                                curbsideflag : {eq:''},
                                deliveryflag : {eq:''},
                                doordashflag : {eq:''},
                                banquets : {eq:''},
                                patio : {eq:''},
                                onlineordering : {eq:''},
                                grubhub : {eq:''},
                                yelpreservation : {eq:''}
                              }
                            }
                        },
                        drivingdirections: {
                            disableDynamicRoutes: false,
                            formdata: {
                                {{#checkIf is_wireless_device  '=='  1}}
                                gps: 'first',
                                {{else}}
                                geoip: true,
                                {{/checkIf}}
                                dataview: 'store_default',
                                map: {
                                    size :'330,225',
                                    icons:{
                                        start: {
                                            path: 'ddstartpin.png'
                                        },
                                        end:{
                                            path: 'ddendpin.png'
                                        }
                                    }
                                },
                                geolocs: {
                                    geoloc: [{
                                        address1:       '',
                                        city:           '',
                                        state:          '',
                                        province:       '',
                                        postalcode:     '',
                                        addressline:    '',
                                        country:        '',
                                        latitude:       '',
                                        longitude:      ''
                                    }]
                                }
                            }
                        },
                       imgPath:  'images/icons/zoombar_new',
                        controls: [{ name: 'zoom', options: {} }],
                        dynamicSearch: true,
                        routeStyle: {
                            strokeWidth:     8,
                            strokeOpacity:  .5,
                            strokeColor:    '#0000FF'
                        },
                        sources: [  
                           { 
                                name: 'Google Normal',
                                        options: {
                                        disableDoubleClickZoom : true,
                                        displayName : 'Map',
                                        projection: 'EPSG:900913', 
                                        units: 'm',
                                        type: 'roadmap', 
                                        maxZoomLevel:18,
                                    }
                            }
                        ]
                    }

                 },
                 custom_ob: {
                   updateRecords : function(recs) {
                        var date = new Date();
                        var today = date.getDay();
                        $(recs).each (function(i,e) {
                            if(e.postalcode)
                            var postal = e.postalcode.length;
                            if(postal == 10) {
                                var cut = e.postalcode.substring(0, 5);
                                e.postalcode = cut;
                            }
                            if (today == 0) {
                                e.SUNCHECK = 1;
                                e.open_hours = formatHours(e.hoursfromto4);
                            }

                            if (today == 1) {
                                e.MONCHECK = 1;
                                e.open_hours = formatHours(e.hoursfromto1);
                            }

                            if (today == 2) {
                                e.TUECHECK = 1;
                                e.open_hours = formatHours(e.hoursfromto1);
                            }

                            if (today == 3) {
                                e.WEDCHECK = 1;
                                e.open_hours = formatHours(e.hoursfromto1);
                            }

                            if (today == 4) {
                                e.THRCHECK = 1;
                                e.open_hours = formatHours(e.hoursfromto1);
                            }

                            if (today == 5) {
                                e.FRICHECK = 1;
                                e.open_hours = formatHours(e.hoursfromto2);
                                console.log(e.open_hours)
                            }

                            if (today == 6) {
                                e.SATCHECK = 1;
                                e.open_hours = formatHours(e.hoursfromto3);
                            }


                        }.bind(this));
                        return recs;
                    },
                },
            }

            var reserve_formdata = {
                dataview: 'store_default',
                limit: 250,
                locatorlocale: 'en_US',
                geolocs: {
                    geoloc: [{
                        addressline:    '',
                        country:        '',
                        latitude:       '',
                        longitude:      ''
                    }]
                },
                searchradius: '50|100|150|300|500|750|1000',
                stateonly: 1,
                where: {
              
                   yelpreservation : {distinctfrom:''}
              
                }
            };

            var pickup_formdata = {
                dataview: 'store_default',
                limit: 250,
                locatorlocale: 'en_US',
                geolocs: {
                    geoloc: [{
                        addressline:    '',
                        country:        '',
                        latitude:       '',
                        longitude:      ''
                    }]
                },
                searchradius: '50|100|150|300|500|750|1000',
                stateonly: 1,
                where: {
                    onlineordering: {eq:'1'}
                }
            };

             var delivery_formdata = {
                dataview: 'store_default',
                limit: 250,
                locatorlocale: 'en_US',
                geolocs: {
                    geoloc: [{
                        addressline:    '',
                        country:        '',
                        latitude:       '',
                        longitude:      ''
                    }]
                },
                searchradius: '50|100|150|300|500|750|1000',
                stateonly: 1,
                where: {
                    doordashflag: {eq:'1'}
                }
            };

            function formatHours(time){
                var a = time.substring(0,2),
                    b = time.split(' - ')[1].substring(0,2),
                    c = a + ' ' + b;
                return c;
            }

            function populateHours(a) {
                $('#yelp_time').empty();
                $('#yelp_time').append(new Option('Please select a time', ''));
                var x = 1;
                var times = []; // time array
                var start = a.split(' ')[0]
                var end = a.split(' ')[1]
                var tt = parseInt(start); // start time
                var et = parseInt(end) + 12;
                var ap = ['am', 'pm']; // AM-PM
                var selectBox = document.getElementById('yelp_time');


                //loop to increment the time and push results in array
                for (var i=0;tt < et; i++) {
                  if(tt > 12) {
                    var hh = tt - 12;
                    var ampm = 'pm';
                  } else {
                    var hh = tt;
                    if(tt == 12){
                        var ampm = 'pm';
                    } else {
                        var ampm = 'am'
                    }
                  }
                  var mm = (tt%60); // getting minutes of the hour in 0-55 format
                  timesText = hh + ':00 ' + ampm; // pushing data in array in [00:00 - 12:00 AM/PM format]
                  timesValue = tt + '00';
                  tt = tt + x;


                  selectBox.options.add( new Option(timesText, timesValue) );
                }

            }

        </script>
        <script src="/w2gi/javascript/backbone/bb/lib/jquery.js"></script>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        <script data-main="/w2gi/javascript/backbone/bb/dist/bones.min" src="/w2gi/javascript/backbone/bb/lib/require.js"></script>
        <script src="2020/javascript/custom.b.js"></script>
        <script type="text/javascript">
          W2GI.loaded = function($) { 
            // on page load (for when there is no response)
        parent.postMessage("w2gi:iframeHeightUpdated" + "//" + $('#w2gi_wrapper').height() + "//" + $('#w2gi_wrapper').width(),"*");
        // on initial response and searches
        ace.util.DomEvent.on("w2gi:proximityresponse", function() {
          setTimeout(function(){
            var a = $('.first_result');
          	var b = $('.content-list li:first-of-type .number_nap').html();
            a.empty().append(b);
            parent.postMessage("w2gi:iframeHeightUpdated" + "//" + $('#w2gi_wrapper').height() + "//" + $('#w2gi_wrapper').width(),"*");
          }, 100);
          // $('.first_result').on('click',function(e){
          // 	$('.content-list').slideToggle(300);
          //   if(!$(this).hasClass('open')){
          //       $(this).addClass('open');
          //   } else {
          //       $(this).removeClass('open');
          //   }
          // })
          $('.select_btn_wrapper button').on('click',function(){
    		var a = $(this).parent().prev().html();
            var b = $(this).data('url');
            var c = $(this).data('hours');
    		$('.first_result').html(a);
            $('#begin_pickup').data('url',b);
            $(this).addClass('selected');
            $('.select_btn_wrapper button').not(this).removeClass('selected');
            if($('#reservations_btn').hasClass('selected')){
                populateHours(c);
                // console.log($(this));
                // var d = $('.select_btn_wrapper button').data('yelpurl');
                var d = $(this).data('yelpurl');
                $('#yelp_url').val(d)
            }
            if($('#delivery_btn').hasClass('selected')){
                // var e = $('.select_btn_wrapper button').data('delivery');
                var e = $(this).data('delivery');
                $('#begin_delivery').data('url',e);
            }
    	  });
        });
        // when no results are returned. Note that the delay must be at least 800 or the modal popup will not display properly
        ace.util.DomEvent.on("w2gi:fetchError", function() {
              setTimeout(function(){
              parent.postMessage("w2gi:iframeHeightUpdated" + "//" + $('#w2gi_wrapper').height() + "//" + $('#w2gi_wrapper').width(),"*");
              }, 800);
        });
        // Browser is resized
            $(window).resize(function() {
                setTimeout(function(){
                    parent.postMessage("w2gi:iframeHeightUpdated" + "//" + $('#w2gi_wrapper').height() + "//" + $('#w2gi_wrapper').width(),"*");
                }, 100);
            }); 
        // When pagination is present and occurs
            ace.util.DomEvent.on("w2gi:sliceupdated", function() {
                setTimeout(function(){
                    parent.postMessage("w2gi:iframeHeightUpdated" + "//" + $('#w2gi_wrapper').height() + "//" + $('#w2gi_wrapper').width(),"*");
                }, 100);
        });
            ace.collection.appendOptions('#bubble_country', 'Account::Country', {}, 'account_country', 'name', 'description');
          }
          function searchCountry(country) {
              require(['jquery'], function($) {
                  $('.search-box').val('')
                  $('.country_val').val(country)
                  ace.util.searchExternal('locator_search');  
              })         
          } 

          $('#map').on('pageshow', function(){
            google.maps.event.trigger(map, "resize");
        });
        </script>    
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
        <link href="/w2gi/css/style.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="2020/css/custom.c-ada.css">
        <link href='//fonts.googleapis.com/css?family=Lato' rel='stylesheet'>

    </head>
    <body>
        <div id="w2gi_wrapper">
            <div data-w2gi="locator" class="box-wrapper" role="main">
                <a class="sr-only sr-only-focusable" href="#poiEl">Skip to Store Listings</a>
                <div class="forms-poi-box" role="form">
                    <div class="tab_wrapper">
                        <ul>
                            <li>
                                <button id="reservations_btn" class="selected"><span>Make a <strong>reservation</strong></span></button>
                            </li>
                            <li>
                                <button id="pickup_btn"><span>Order <strong>pickup</strong></span></button>
                            </li>
                            <li>
                                <button id="delivery_btn"><span>Order <strong>delivery</strong></span></button>
                            </li>
                        </ul>
                    </div>
                    <div class="form-wrapper">
                        <div class="locator-wrapper">
                            <form id="locator_search" role="search" autocomplete="off" >
	                            <h1>Enter an address to find a nearby location</h1> 
                                <div class="search-box_wrapper">
                                    <label for="search_input" class="sr-only">Enter street address, city, state or zip code</label>
                                    <input id="search_input" type="text" class="search-box" name="addressline" onfocus="this.value=''" placeholder="Enter street address, city, state or zip code"/>
                                    <button aria-label="Search" class="button-search2" type="button">GO</button>
                                </div>
                                <div class="current-location">Or <button>use my current location</button></div>
                                <input class="sr-only" type="submit" aria-hidden="true" value="search" name="search"/>
                                <label for="searchradius" class="sr-only" aria-hidden="true">Search Radius</label>
                                <select id="searchradius" style="display:none;" name="searchradius" aria-hidden="true">
                                    <option value="50|100|150|300|500|750|1000">50 miles</option>
                                    <option value="100|150|300|500|750|1000">100 miles</option>
                                    <option value="150|300|500|750|1000">150 miles</option>
                                    <option value="300|500|750|1000">300 miles</option>
                                    <option value="500|750|1000">500 miles</option>
                                    <option value="750|1000">750 miles</option>
                                    <option value="1000">1000 miles</option>
                                </select>
                                <label for="search_country" class="sr-only" aria-hidden="true">Select a country</label>
                                <select id="search_country" name="country" style="display: none;" aria-hidden="true">
                                    <option value="">Select a country</option>       
                                </select>
                                <div class="fr_poi_wrapper">
	                                <div class="first_result">
	                                </div>
	                                <div id="poiEl" class="poi"></div>
	                            </div>
                                <fieldset class="reservations_fields">
                                    <legend class="sr-only">Reservation Fields</legend>
                                    <label for="yelp_date_formdatted" class="sr-only">Select the day of your reservation</label>
                                     <script>
                                      $(function() {
                                        $('#yelp_date_formatted').datepicker({ minDate: 0, maxDate: "+1M", dateFormat: 'DD, MM d, yy', altField: "#yelp_date", altFormat: "yy-mm-dd" });
                                      });
                                      </script>
                                    <input id="yelp_date_formatted" type="text" name="yelp_date_formatted" placeholder="please selected a date" />
                                    <input id="yelp_date" type="hidden" name="yelp_date">
                                    <input id="yelp_url" type="hidden" name="yelp_url">
                                    <label for="yelp_time" class="sr-only">Select a time</label>
                                    <select id="yelp_time">
                                        <option value="">Select a time</option>
                                    </select>
                                    <label for="yelp_covers" class="sr-only">Select # of people</label>
                                    <select id="yelp_covers">
                                        <option value="">Select # of people</option>
                                        <option value="1">1 person</option>
                                        <option value="2">2 people</option>
                                        <option value="3">3 people</option>
                                        <option value="4">4 people</option>
                                        <option value="5">5 people</option>
                                        <option value="6">6 people</option>
                                    </select>
                                    <label for="find_table" class="sr-only"></label>
                                    <button type="button" id="find_table">Find a table</button>
                                </fieldset>
                                <fieldset class="pickup_fields" style="display: none;">
                                    <legend class="sr-only">Pickup Fields</legend>
                                    <label for="begin_pickup" class="sr-only">Click to begin creating pickup order</label>
                                    <button type="button" id="begin_pickup" data-url="">Begin Pickup Order</button>
                                </fieldset>
                                <fieldset class="delivery_fields" style="display: none;">
                                    <legend class="sr-only">Delivery Fields</legend>
                                    <label for="begin_delivery" class="sr-only">Click to begin creating Delivery order</label>
                                    <button type="button" id="begin_delivery" data-url="">Begin Delivery Order</button>
                                </fieldset>
                            </form>
                            <div>
                                <div id="listview" onclick="showList();">List View</div>
                                <div id="mapview" onclick="showMap();">Map View</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dd-form-wrapper" style="display:none"></div>
                <div class="wrapper" role="contentinfo">
                    <div id="mapEl" class="map"></div>
                   
                    <div id="indicator"></div>
                </div>
                <div class="attribution">
                    <span class="attribution">
                        Mapping Locator Powered by <a href="https://www.brandify.com/" target="_new">Brandify </a>Copyright &copy; <script>document.write(new Date().getFullYear())</script>, All Rights Reserved.
                    </span>
                    
                    <div id="navteqfooter" style="display:none">
                        <script type="text/javascript">
                            var d = new Date()
                            document.write(" <img src=/w2gi/images/logo_navteq_large.gif alt='Navtech Logo'/> ")
                            document.write(" &copy; Copyright ")
                            document.write(d.getFullYear())
                            document.write(" NAVTEQ Corp.  ")
                        </script>
                        <a href="https://www.brandify.com/company/terms" onClick="window.open(this.href,'_blank','width=988,height=600,scrollbars=yes,location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=yes');return false;">Use Subject to Terms and Conditions</a>
                    </div>
                </div>
                <div class="overlay"></div>
                <div class="modal" aria-hidden="true" role="dialog">
                    <a aria-label="close Modal" href="#" class="closeBtn">Close</a>
                    <!-- <button type="button" class="closeBtn" aria-label="Close">close</button> -->
                    <p></p>
                </div>
                <div class="street-view-wrapper" aria-hidden="true"> 
                    <a aria-label="close Modal" href="#" class="gs" data-action="close">Close</a>
                    <!-- <button type="button" class="gs" data-action="close"aria-label="Close">close</button> -->
                    <div id="streetViewCtn" class="street-view"></div>
                </div>
            </div>
            <!-- Templates -->
            <div class="templates" aria-hidden="true">
                <script id="locator_addressline" type="text/x-handlebars-template" aria-hidden="true">
                    ^((#if address1^))^((address1^))^((else^))^((#if addressline^))^((addressline^))^((/if^))^(( city ^)) ^(( county ^)) ^(( state ^)) ^((postalcode^))^((/if^))
                </script>
                <script id="directions_addressline" type="text/x-handlebars-template">
                    ^((#if address1^))^((address1^)) ^(( city ^)) ^(( state ^)) ^((postalcode^)) ^((else^))^((#if addressline^))^((addressline^))^((/if^)) ^(( city ^)) ^(( state ^)) ^((postalcode^))^((/if^))
                </script>
                <script id="collection_multiple_address" type="text/x-handlebars-template">
                    <h3>Please select your location</h3>
                    <ul class="content-list address-suggestions">
                        ^((#each this^))
                            <li data-id=^((@index^))><strong>^((address1^)) ^(( city ^)) ^(( county ^))</strong>^(( state ^)) ^((postalcode^))</li>
                        ^((/each^))
                    </ul>
                </script>
                <!-- poi template start -->
                <script id="collection_poi" type="text/x-handlebars-template"> 
                    <!-- <div id="reservations_list" style="display: none;"> -->
	                    <ul class="content-list poi-result" style="display: none;">
	                        ^((#each pois^))
	                        <li data-id=^((@index^)) data-uid=^((uid^)) class="poi-item">
	                            <div class="poi_wrapper">  
	                            	<div class="sub_poi_wrapper">
	                                	<div class="number_nap">
		                                    <div>
		                                        <div class="icon_div">
		                                            <span>^((collectionIndex^))</span> 
		                                        </div>
		                                    </div>
		                                    <div class="poi_box">
		                                        <span>^((name^))</span> 
		                                        <div>
		                                            ^(({address1^))}<br/>^((city^)), ^((state^)) ^((postalcode^))
		                                        </div>
                                                <a class="phone" href="tel:^((phone^))" onclick="window.parent.location = 'tel:^((phone^))';">^((phone^))</a>
		                                    </div>
		                                </div>
	                                    <div class="select_btn_wrapper">
	                                    	<button data-hours="^((open_hours^))" data-yelpurl="^((yelpreservation^))" data-url="^((onlineorderingurl^))" data-delivery="^((doordashurl^))">Select this location</button>
	                                    </div>
	                                </div>
	                            </div>
	                        </li>
	                        ^((/each^))
	                    </ul>
	                <!-- </div> -->
                    <div class="poi_paging_wrapper">
                        <span class="poi_paging_prev"><div aria-hidden="true" class="fa fa-arrow-left"></div><span>Previous</span></span>
                        <span class="poi_paging_next"><span>Next</span><div aria-hidden="true" class="fa fa-arrow-right"></div></span>
                    </div>
                </script>
                <!-- poi template end -->
                 <script id="collection_more_info" type="text/x-handlebars-template" data-slicesize="20">
                    <ul class="content-list poi-result moreinfo_box">
                        <li data-id=^((index^)) data-uid=^((uid^)) class="poi-item">
                            <div class="icon_div">
                                <img src="images/new/map_pin_regular.png" alt="Map Pin">
                                <span> ^((collectionIndex^))</span> 
                            </div>
                            <div class="more_info_header_container">
                                <span class ="more_info_header">About ^((name^))</span>
                            </div>
                            <form class="directions_btn_wrapper" onsubmit="getdirections_moreinfo();">
                                <label for="input_moreinfo" class="sr-only">Enter starting address</label>
                                <input id="input_moreinfo" placeholder="Enter starting address" onfocus="this.value=''" type="text">
                                <button aria-label="Driving Directions" id="button_moreinfo" onclick="getdirections_moreinfo();">
                                    <img src="images/new/dd-alt.png">
                                </button>
                            </form>                 
                            <div id="mobile_button_wrapper">
                                <div id="moreinfo_mobile_back" data-action="show_all" onclick="moreinfo_changeback();" onkeypress="moreinfo_change()">Back to Results</div>
                                <div onclick="window.open('https://maps.apple.com?q=^((address1^)),^((city^)),^((state^))^((postalcode^))')" id="moreinfo_mobile_directions">Get Directions</div>
                            </div>
                            <div style="display:none;" id="open_bubble" data-action="open_bubble" class="open_bubble"></div>
                            <div id="desktop_info">
                                <div id ="desktop_info_one">
                                     <img src="images/new/address_icon.png" alt="Address Icon">
                                     <span class="add_info">Address</span>
                                     <div>
                                        ^((address1^)) <br/>
                                        ^((city^)), ^((state^)) ^((postalcode^)) <br/>
                                    </div> 
                                    <br/>
                                     <img src="images/new/phone_icon.png"  style="float:left;" alt="Phone Icon">
                                     <span class="moreinfo_phone_text">Phone</span>
                                     <div class="moreinfo_phone">
                                        <a href="tel:^((phone^))" onclick="window.parent.location = 'tel:^((phone^))';" >
                                            <span class="phone">^((phone^))</span>
                                        </a>
                                    </div> 
                                </div>
                                <div id ="desktop_info_two">
                                    <img src="images/new/distance_icon.png" alt="Distance Icon">
                                    <span class="distance_text">Distance</span>
                                    <div>
                                         <span class="distance"><strong>^((_distance^))</strong> miles away</span>
                                    </div> 
                                </div>
                            </div>
                             <div id="desktop_hours">
                                <img src="images/new/clock_icon.png" alt="Hours Icon">
                                <span>Hours</span>
                                <div class="week_head">
                                    <div class="weekinfo day^((MONCHECK^))">    
                                        <div class="weekday">Monday:</div> 
                                        <div class="weekhours">8:00 AM - 10 PM</div>
                                    </div>
                                    <div class="weekinfo day^((TUECHECK^))">
                                        <div class="weekday">Tuesday:</div> 
                                        <div class="weekhours">8:00 AM - 10 PM</div>
                                    </div>
                                    <div class="weekinfo day^((WEDCHECK^))">
                                        <div class="weekday">Wednesday:</div> 
                                        <div class="weekhours">8:00 AM - 10 PM</div>
                                    </div>
                                    <div class="weekinfo day^((THRCHECK^))">
                                        <div class="weekday">Thursday:</div> 
                                        <div class="weekhours">8:00 AM - 10 PM</div>
                                    </div>
                                    <div class="weekinfo day^((FRICHECK^))">
                                        <div class="weekday">Friday:</div>  
                                        <div class="weekhours">8:00 AM - 10 PM</div>
                                    </div>
                                    <div class="weekinfo day^((SATCHECK^))">
                                        <div class="weekday">Saturday:</div>  
                                        <div class="weekhours">8:00 AM - 10 PM</div>
                                    </div>
                                    <div class="weekinfo day^((SUNCHECK^))" style="padding-bottom:10px;">
                                        <div class="weekday">Sunday:</div>  
                                        <div class="weekhours">8:00 AM - 10 PM</div> 
                                    </div> 
                                </div>
                            </div>
                            <div id="moreinfo_back" tabindex="0" onclick="document.getElementById('back_image').click()" onkeypress="document.getElementById('back_image').click()">
                                <img id="back_image" data-action="show_all" onclick="moreinfo_changeback();" src="images/new/back_to_search.png" alt="Back Arrow">
                                <span>Back to Search</span>
                            </div>
                        </li>
                    </ul>
                </script>
                <!--  <a data-action="show_all" href="javascript:void(0);">Back</a> -->
                <!-- driving directions panel template end -->
                <script id="collection_maneuvers" type="text/x-handlebars-template">
                    <div tabindex="20" id="search_return" onclick="window.location.reload()">
                        <img src="images/new/back_to_search.png" alt="Back Arrow">
                        <span>Back to Search Results</span>
                    </div>
                    <div class = "dist_time"><span>Distance:</span> ^((total_distance^)) miles</div>      
                    <div class = "dist_time"><span>Drive time:</span> ^((total_time^)) minutes drive</div>
                    <p class="maneuver_start">
                        From (A): ^((#if fromAddress.address1^)) ^((fromAddress.address1^)), ^((/if^)) ^((fromAddress.city^)) ^((fromAddress.state^)) ^((fromAddress.postalcode^))
                    </p>
                    <ul class="content-list maneuver-result">
                        ^((#each maneuverlist^))
                            <li data-id=^((@index^)) data-uid=^((uid^))>
                               ^((incIndex @index^)) ^((text^)) ^((distance^)) ^((distanceuom^))
                            </li>
                        ^((/each^))
                    </ul>
                    <p class="maneuver_end">
                        To (B): ^((#if toAddress.address1^)) ^((toAddress.address1^)), ^((/if^)) ^((toAddress.city^)) ^((toAddress.state^)) ^((toAddress.postalcode^)) </strong>
                    </p>
                </script>
                <!-- driving directions panel template end -->
                <!-- driving directions form template start -->
                <script id="dd-template" type="text/x-handlebars-template">
                    <form id="driving_directions" autocomplete="off">
                         <div class="icon-bar">
                            <a href="#" onclick="window.open(ace.util.printUrl('locator-print.html'), 'print', 'toolbar=no, resizable=yes, scrollbars=yes, menubar=yes');"><div class="fa fa-print"></div>Print</a>
                        </div>
                        <label for="start_address">
                            <span>From:</span><input tabindex="17" type="text" id="start_address" class="search-box"  data-action="start" name="addressline" placeholder="Start address">
                        </label>
                        <label for="end_address">
                            <span>To:</span><input tabindex="18" type="text" id="end_address" class="search-box"  data-action="end" name="addressline" placeholder="End address">
                        </label>
                            <button tabindex="19" class="button-search dd-button-search">GET DIRECTIONS</button>
                              <input type="hidden" id="longitude" name="longitude" aria-hidden="true"/>
                              <input type="hidden" id="latitude" name="latitude" aria-hidden="true"/>
                              <input type="hidden" id="dest_longitude" name="dest_longitude" aria-hidden="true"/>
                              <input type="hidden" id="dest_latitude" name="dest_latitude" aria-hidden="true"/>
                    </form>
                </script>
                <!-- driving directions form template end -->
                <!-- icon template start  -->
                <script id="default" type="text/x-handlebars-template">
                    <div class="icon" data-bubbleid="bubble" style="pointer-events: none; cursor:none !important;" data-width="30" data-height="40" data-offsetx="-15" data-offsety="-40" data-labeloffsetx="0" data-labeloffsety="25"  data-fontfamily="Lato" data-fontcolor="#ffffff" data-fontsize="800 16px" data-display="true">
                            <img class="alpha" src="2020/images/map-pin-inactive.png" style="cursor:pointer;" alt="Map Pin"/>
                    </div>
                </script>
                <script id="default2" type="text/x-handlebars-template">
                    <div class="icon" data-bubbleid="bubble" data-width="33" data-height="40" data-offsetx="-16" data-offsety="-40" data-labeloffsetx="0" data-labeloffsety="25"  data-fontcolor="#ffffff" data-fontsize="18" data-display="true">
                            <img class="alpha" src="/w2gi/images/icons/gray-pin-shadow.png" style="cursor:pointer;" alt="Map Pin"/>
                    </div>
                </script>
                <!-- icon template end -->
                 <!-- bubble template start -->
                <script id="bubble" data-offsetx="10" data-offsety="0" 
                    {{#checkIf is_wireless_device}}data-width="200" data-height="216" data-margintop="100" data-marginbottom="0" data-marginleft="100" data-marginright="100" {{else}}data-width="0" data-height="0" data-margintop="100" data-marginbottom="0" data-marginleft="100" data-marginright="100"{{/checkIf}}
                    type="text/x-handlebars-template">

                    <ul class="tabs" style="display:none;">
                        <li class="active" data-tab="tab1">Address</li>
                    </ul>
                    <div class="tab-content active" data-tab="tab1">
                        <ul>
                          <li>^((address1^))<li>
                          <li>^((city^)), ^((state^)) ^((postalcode^))<li>
                        </ul>
                        <a href="javascript:void(0);" onclick="window.parent.location = 'tel:^((phone^))';" >
                            <div>^((phone^))</div>
                        </a>
                        <div>Get Directions</div>
                        <div class="dd-wrapper" style="display:none !important;">
                            <form id="dd" autocomplete="off">
                                <label for="input_bubble" class="sr-only" aria-hidden="true">Enter Address</label>
                                <input id="input_bubble" size="18" type="text" name="addressline" class="direction_address" value="^((addressline^))" />
                                <label for="bubble_submit" class="sr-only" aria-hidden="true">Submit Address</label>
                                <input id="bubble_submit" type="submit" value="" class="search_arrow">
                                <!-- <input size="19" type="text" name="addressline" style="display:none;" class="direction_address" value="^((address1^)), ^((city^)), ^((state^)) ^((postalcode^)) " />
                                <input type="submit" value="" class="search_arrow" style="display:none;"> -->
                                <label for="bubble_country" class="sr-only" aria-hidden="true">Country</label>
                                <select id="bubble_country" name="country" class="country_selection" style="display:none">
                                    <option value="">Select a country</option>
                                     ^((#each options^))
                                    <option value="^((value^))" ^((#if selected^))selected="selected"^((/if^))>^((text^))</option>
                                    ^((/each^))
                                </select>
                                <input type="submit" value="Go" style="display:none;" >
                            </form>
                        </div>
                    </div>
                </script>
                <!-- bubble template end -->
                <!-- center marker template start -->
                <script id="center_marker" type="text/x-handlebars-template">
                    <div class="icon" data-bubbleid="bubble" data-width="30" data-height="28"  data-offsetx="-15" data-offsety="-14" >
                        <img class="alpha" src="/w2gi/images/icons/red-star.png" alt="Center Star" />
                    </div>
                </script>
                <!-- center marker template end -->
                <!-- dd end markers template start  -->
                <script id="ddstarticon" type="text/x-handlebars-template">
                    <div  class="end_icon" data-height="38" data-width="27" data-offsetx="-13" data-offsety="-38">
                       <img class="alpha" src="images/new/ddstartpin-new.png" alt="Start Icon"/>
                    </div>
                </script>
                <script id="ddendicon" type="text/x-handlebars-template">
                    <div class="end_icon" data-height="38" data-width="27" data-offsetx="-13" data-offsety="-38">
                        <img class="alpha" src="images/new/ddendpin-new.png" alt="End Icon"/>
                    </div>
                </script>
                <!-- dd end markers template start  -->
                <script id="panel_error_message" type="text/x-handlebars-template">
                    <div id="error_message"><span class="locerror">^((error^))</span></div>
                </script>
            </div>
        </div> <!-- end of w2gi wrapper -->
        <script> 
            var anchorIn = document.createElement('a');
            anchorIn.setAttribute('href', '#');
            anchorIn.setAttribute('title', 'Zoom In');

            var anchorOut = document.createElement('a');
            anchorOut.setAttribute('href', '#');
            anchorOut.setAttribute('title', 'Zoom Out');
                
            setTimeout(function() {
                var elIn = document.getElementById('OpenLayers_Control_PanZoom_zoomin_innerImage');
                var elOut = document.getElementById('OpenLayers_Control_PanZoom_zoomout_innerImage');
                document.getElementById('OpenLayers_Control_PanZoom_zoomin_innerImage').setAttribute("alt","zoom in the map");
                document.getElementById('OpenLayers_Control_PanZoom_zoomout_innerImage').setAttribute("alt","zoom out the map");
                document.getElementById('OpenLayers_Control_PanZoom_panright_innerImage').setAttribute("alt","Pan to the Right");
                document.getElementById('OpenLayers_Control_PanZoom_panright').style.display = "none";    
                document.getElementById('OpenLayers_Control_PanZoom_panup_innerImage').setAttribute("alt","Pan Up");
                document.getElementById('OpenLayers_Control_PanZoom_panup').style.display = "none";
                document.getElementById('OpenLayers_Control_PanZoom_pandown_innerImage').setAttribute("alt","Pan Down");
                document.getElementById('OpenLayers_Control_PanZoom_pandown').style.display = "none";
                document.getElementById('OpenLayers_Control_PanZoom_panleft_innerImage').setAttribute("alt","Pan Left");
                document.getElementById('OpenLayers_Control_PanZoom_panleft').style.display = "none";           
                elIn.parentNode.insertBefore(anchorIn, elIn);
                anchorIn.appendChild(elIn);
                elOut.parentNode.insertBefore(anchorOut, elOut);
                anchorOut.appendChild(elOut);
            }, 3000);

            setTimeout(function(){
              
              var temp = document.querySelectorAll("#mapEl img");
              for(var i = 0; i < temp.length; i++) {
                var img = temp[i];
                //console.log(img);
                //img.setAttribute("aria-label", "Google Map" + i);
                img.setAttribute("alt", "Google Map" + i);
                img.setAttribute("aria-title", "Google Map" + i);
                // console.log(img);
              }

              var temp = document.querySelectorAll("#mapEl div img");
              for(var i = 0; i < temp.length; i++) {
                var img = temp[i];
                //console.log(img);
                //img.setAttribute("aria-label", "Google Map" + i);
                img.setAttribute("alt", "Google Map" + i);
                img.setAttribute("aria-title", "Google Map" + i);
                // console.log(img); 
              }

              var temp = document.getElementById('mapEl').querySelectorAll('[role="presentation"]');
              for(var i = 0; i < temp.length; i++) {
                temp[i].removeAttribute("role");
              }
              
              var temp = document.getElementById('mapEl').getElementsByTagName('iframe');
                // console.log("mpap" + temp.length);
              for (var index = 0; index < temp.length; index++) {
                temp[index].setAttribute("title", "Google Maps");
                temp[index].setAttribute("tabindex", "-1");
                temp[index].removeAttribute("frameborder");

              }
          
            }, 7000);


        </script>
        <script>
            
            $(document).ready(function(){
                var options = '';
                const days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
                const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                var date = new Date(),
                    weekDay = date.getDay(),
                    dayStr = days[weekDay],
                    monthDay = date.getDate(),
                    month = date.getMonth(),
                    monthStr = months[month],
                    year = date.getFullYear(),
                    placeholder = dayStr + ', ' + monthStr + ' ' + monthDay + ', ' + year; 

                // $('#yelp_date_formatted').attr("placeholder",placeholder);

                $('.button-search2').on('click',function(e){
                    e.preventDefault();
                    if($('#reservations_btn').hasClass('selected')){
                        reserve_formdata.geolocs.geoloc[0].addressline = $("#search_input").val();
                        $(document).trigger("w2gi:proximitysearchrequest", reserve_formdata);
                    }
                    if($('#pickup_btn').hasClass('selected')){
                        pickup_formdata.geolocs.geoloc[0].addressline = $("#search_input").val();
                        $(document).trigger("w2gi:proximitysearchrequest", pickup_formdata);
                    }
                    if($('#delivery_btn').hasClass('selected')){
                        delivery_formdata.geolocs.geoloc[0].addressline = $("#search_input").val();
                        $(document).trigger("w2gi:proximitysearchrequest", delivery_formdata);
                    }

                });

                $('#search_input').on('keypress',function(e){
                    // e.preventDefault();
                    if(e.which == 13 || e.keycode == 13) {
                        e.preventDefault();
                        $('.button-search2').click();
                    }
                })
            	
                $('.tab_wrapper button').on('click',function(){
            		if(!$(this).hasClass('selected')){
            			$(this).addClass('selected')
            			$('.tab_wrapper button').not(this).removeClass('selected');
                        if($(this).attr('id') == 'reservations_btn'){
                            parent.postMessage('w2gi:reservations','*');
                            reserve_formdata.geolocs.geoloc[0].addressline = $("#search_input").val();
                            $(document).trigger("w2gi:proximitysearchrequest", reserve_formdata);
                            if($('.reservations_fields').is(':hidden')){
                                $('.reservations_fields').show();
                            }
                            $('.pickup_fields,.delivery_fields').hide();
                        }
                        if($(this).attr('id') == 'pickup_btn'){
                            parent.postMessage('w2gi:pickup','*');
                            pickup_formdata.geolocs.geoloc[0].addressline = $("#search_input").val();
                            $(document).trigger("w2gi:proximitysearchrequest", pickup_formdata);
                            if($('.pickup_fields').is(':hidden')){
                                $('.pickup_fields').show();
                            }
                            $('.reservations_fields,.delivery_fields').hide();
                        }
                        if($(this).attr('id') == 'delivery_btn'){
                            parent.postMessage('w2gi:delivery','*')
                            delivery_formdata.geolocs.geoloc[0].addressline = $("#search_input").val();
                            $(document).trigger("w2gi:proximitysearchrequest", delivery_formdata);
                             if($('.delivery_fields').is(':hidden')){
                                $('.delivery_fields').show();
                            }
                            $('.reservations_fields,.pickup_fields').hide();
                        }
            		}

            	});

                      $('.first_result').on('click',function(e){
            $('.content-list').slideToggle(300);
            if(!$(this).hasClass('open')){
                $(this).addClass('open');
            } else {
                $(this).removeClass('open');
            }
          })

                $('#begin_pickup').on('click',function(){
                    var a = $(this).data('url');
                    window.open(a,'_blank');
                });

                $('#begin_delivery').on('click',function(){
                    var a = $(this).data('url');
                    window.open(a,'_blank');
                });
            	
                $('#find_table').on('click',function(){
                    var yelpCovers = $('#yelp_covers').val(),
                        yelpDate = $('#yelp_date').val(),
                        yelpTime = $('#yelp_time').val(),
                        yelpUrl = $('#yelp_url').val(),
                        yelpStr =  yelpUrl + '?covers=' + yelpCovers + "&date=" + yelpDate + '&from_reserve_now=1&time=' + yelpTime;
                    if(yelpUrl == ''){
                        alert('hey, no, stop that! select a location');
                    }
                    if(yelpDate == ''){
                        alert('hey, no, stop that!');
                    } else {
                        window.open(yelpStr,'_blank');
                    }
                    
                });
            });
        </script>
</body>
</html>